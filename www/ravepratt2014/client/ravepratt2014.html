<head>
  <title>Time and Tides</title>
</head>

<body>
	<div id="container">
		{{> journies}}
	</div>
</body>

<template name="journies">
	{{#if hasSelectedJourney}}
		{{> journey}}
	{{else}}
		{{> characters}}
	{{/if}}
</template>

<template name="journey">
	<div class="journey">
		{{> starsTotal}}
		{{#if inStory}}
			{{> story}}
		{{else}}
			{{> question}}
		{{/if}}
		{{> popUp}}
	</div>
</template>

<!-- Character selection -->
<template name="characters">
	<div class="characters">
		{{#each characters}}
			{{> character}}
		{{/each}}
	</div>
</template>

<template name="character">
	<div class="character">
		<img src="{{image}}">
	</div>
</template>

<!-- Story -->
<template name="story">
	<div class="story">
		<img src="{{background}}">
		{{#each text}}
			<div class="{{elementClass}}">
				<span>{{element}}</span>
			</div>
		{{/each}}
		{{> storyPreviousButton}}
		{{> storyNextButton}}
	</div>
</template>

<template name="storyPreviousButton">
	<div class="previous button {{buttonPreviousEnabled}}" >
		<span>&lt;</span>
	</div>	
</template>	

<template name="storyNextButton">
	<div class="next button {{buttonNextEnabled}}">
		<span>&gt;</span>
	</div>
</template>		

<!-- Question -->
<template name="question">
	<div class="question">
		<img src="{{image}}">
		<div class="questionText">
			<span>{{questionText}}</span>
		</div>
		{{> hint}}
		<div class="answers">
			{{#each answers}}
				{{> answer}}
			{{/each}}
		</div>
		<div class="questionStars">
			<span>Possible stars: {{> stars}}</span>	
		</div>	
	</div>
</template>

<template name="starsTotal">
	<div class="starsTotal {{starsTotalEnabled}}">
		<span><img src="star.png">{{stars}}/35</span>
	</div>	
</template>

<template name="answer">
	<div class="answer {{answerEnabled}}">
		<span>{{answer}}</span>
	</div>
</template>	

<template name="hint">
	<div class="hint button {{hintEnabled}}">
		<span>Get Hint</span>
	</div>
</template>

<template name="stars">
	<div class="stars">
		{{#each stars}}
			<img src="star.png">
		{{/each}}
	</div>
</template>	

<!-- Pop-up dialog box -->
<template name="popUp">
	<div class="popUpContainer {{popUpEnabled}}">
		<div class="popUp">
			<div class="popUpText">
				<span>{{popUpText}}</span>
			</div>
			<div class="popUpStars">
				{{>stars}}	
			</div>
			{{>popUpButton}}
		</div>
	</div>
</template>		

<template name="popUpButton">
	<div class="popUpButton">
		<span>{{popUpButtonText}}</span>
	</div>
</template>		
